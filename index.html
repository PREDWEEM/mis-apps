<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PREDWEEM: Modelo Predictivo de Emergencia y Fenología de Lolium multiflorum</title>

    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Leaflet -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <!-- Font Awesome para iconos -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <style>
        body {
            background: linear-gradient(to bottom, #f0f7f4, #e8f5e9);
            font-family: 'Segoe UI', sans-serif;
            color: #2d3436;
        }
        .hero {
            background: linear-gradient(rgba(46, 125, 50, 0.85), rgba(27, 94, 32, 0.9)), url('https://images.unsplash.com/photo-1500384066616-8a8d547abfc9?ixlib=rb-4.0.3&auto=format&fit=crop&q=80');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 100px 0;
            text-align: center;
        }
        .hero h1 {
            font-size: 3.5rem;
            font-weight: 700;
        }
        .hero p.lead {
            font-size: 1.4rem;
            max-width: 800px;
            margin: 20px auto;
        }
        #map {
            height: 650px;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }
        .card-location {
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
        }
        .card-location:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.2);
        }
        .leaflet-tooltip-permanent {
            font-weight: bold;
            background: rgba(76, 175, 80, 0.9);
            border: none;
            color: white;
            font-size: 1rem;
            padding: 6px 12px;
            border-radius: 8px;
        }
        footer {
            background: #2e7d32;
            color: white;
            padding: 30px 0;
            margin-top: 80px;
        }
    </style>
</head>
<body>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h1>PREDWEEM</h1>
            <p class="lead">
                Modelo Predictivo de Emergencia y Fenología de <strong>Lolium multiflorum</strong><br>
                Herramienta moderna para la toma de decisiones agronómicas precisas y oportunas
            </p>
            <p class="mt-4">
                Optimice el manejo de ryegrass resistente: timing de aplicaciones, siembra y control integrado.
            </p>
        </div>
    </section>

    <!-- Main Container -->
    <div class="container my-5">
        <div class="row">
            <div class="col-lg-10 mx-auto">
                <div class="card border-0 shadow-lg">
                    <div class="card-body p-4">
                        <h4 class="card-title text-center mb-4">
                            <i class="fas fa-map-marker-alt text-success me-2"></i>
                            Seleccione una localidad en el mapa
                        </h4>
                        <p class="text-center text-muted mb-4">
                            Haga clic en los marcadores para acceder a los pronósticos predictivos específicos de cada zona.<br>
                            Las aplicaciones le proporcionarán datos de emergencia, etapas fenológicas y recomendaciones para decisiones agronómicas.
                        </p>
                        <div id="map"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Cards de localidades (alternativa clicable) -->
        <div class="row mt-5">
            <div class="col-12">
                <h4 class="text-center mb-4">Localidades disponibles</h4>
            </div>
            <div class="col-md-3">
                <div class="card card-location text-center border-0 shadow" onclick="window.open('https://appemergenciacombinadopy-pft4j4e33dvonn4jsryzte.streamlit.app/', '_blank')">
                    <div class="card-body">
                        <i class="fas fa-seedling fa-3x text-success mb-3"></i>
                        <h5>Bordenave</h5>
                        <small>App Emergencia Combinada</small>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card card-location text-center border-0 shadow" onclick="window.open('https://appemergenciapy-evagabxskaw7cqvwex2d3k.streamlit.app/', '_blank')">
                    <div class="card-body">
                        <i class="fas fa-seedling fa-3x text-success mb-3"></i>
                        <h5>Tres Arroyos</h5>
                        <small>App Emergencia</small>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card card-location text-center border-0 shadow" onclick="window.open('https://appemergenciacombinadopy-a5mxrfx78y2hedmzqsy4bx.streamlit.app/', '_blank')">
                    <div class="card-body">
                        <i class="fas fa-seedling fa-3x text-success mb-3"></i>
                        <h5>Balcarce</h5>
                        <small>App Emergencia Combinada</small>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card card-location text-center border-0 shadow" onclick="window.open('https://appemergenciapy-ejmxey8erpj3mb8s3dnavx.streamlit.app/', '_blank')">
                    <div class="card-body">
                        <i class="fas fa-seedling fa-3x text-success mb-3"></i>
                        <h5>Bahía Blanca</h5>
                        <small>App Emergencia</small>
                    </div>
                </div>
            </div>
        </div>

        <!-- Beneficios -->
        <div class="row mt-5">
            <div class="col-lg-10 mx-auto">
                <div class="card border-0 shadow">
                    <div class="card-body">
                        <h4 class="card-title text-center">
                            <i class="fas fa-chart-line text-success me-2"></i>
                            Beneficios para la toma de decisiones agronómicas
                        </h4>
                        <ul class="list-group list-group-flush mt-3">
                            <li class="list-group-item">Predicción precisa de fechas de emergencia para planificar aplicaciones pre-emergentes.</li>
                            <li class="list-group-item">Seguimiento fenológico en tiempo real para optimizar el timing de herbicidas post-emergentes.</li>
                            <li class="list-group-item">Reducción del uso de agroquímicos mediante aplicaciones oportunas y eficientes.</li>
                            <li class="list-group-item">Mejor planificación de siembra y rotaciones de cultivos.</li>
                            <li class="list-group-item">Herramienta basada en datos climáticos y modelos validados científicamente.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="text-center">
        <div class="container">
            <p class="mb-0">© 2026 PREDWEEM — Herramienta desarrollada para apoyar la agricultura sostenible</p>
            <small>Modelo predictivo basado en datos agroclimáticos locales</small>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        const map = L.map('map').setView([-38.0, -60.0], 7);

        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        function addMarker(lat, lng, name, url, appName) {
            const marker = L.marker([lat, lng]).addTo(map);
            marker.bindTooltip(name, {
                permanent: true,
                direction: 'top',
                offset: [0, -10],
                className: 'leaflet-tooltip-permanent'
            });
            marker.bindPopup(`
                <div class="text-center p-2">
                    <h6 class="mb-2"><strong>${name}</strong></h6>
                    <a href="${url}" target="_blank" class="btn btn-success btn-sm">
                        <i class="fas fa-external-link-alt me-1"></i> Acceder a ${appName}
                    </a>
                </div>
            `);
            marker.on('click', () => window.open(url, '_blank'));
        }

        addMarker(-37.8036, -63.041, 'Bordenave', 'https://appemergenciacombinadopy-pft4j4e33dvonn4jsryzte.streamlit.app/', 'App Emergencia Combinada');
        addMarker(-38.377, -60.276, 'Tres Arroyos', 'https://appemergenciapy-evagabxskaw7cqvwex2d3k.streamlit.app/', 'App Emergencia');
        addMarker(-37.846, -58.258, 'Balcarce', 'https://appemergenciacombinadopy-a5mxrfx78y2hedmzqsy4bx.streamlit.app/', 'App Emergencia Combinada');
        addMarker(-38.7196, -62.2724, 'Bahía Blanca', 'https://appemergenciapy-ejmxey8erpj3mb8s3dnavx.streamlit.app/', 'App Emergencia');

        const provinceBounds = [[-34.5, -58.5], [-35.0, -63.0], [-41.0, -62.0], [-38.0, -57.0]];
        L.polygon(provinceBounds, {color: '#2e7d32', weight: 4, fillOpacity: 0.08}).addTo(map);
        map.fitBounds(provinceBounds);
    </script>
</body>
</html>
